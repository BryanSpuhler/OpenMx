# R's default compiler flags are hidden in Makeconf. To find your Makeconf,
#
# eval $(grep R_HOME_DIR $(which R) | head -1)
# cd $R_HOME_DIR/etc
# find . |grep Makeconf
#
# Now edit to Makeconf to adjust the default compiler flags.

# Uncomment one of the following lines to turn on all debugging output in the backend
# DEBUG_CXXFLAGS=-DDEBUGMX                     # DEBUGMX gives Setup, cleanup, and per-iteration details
# DEBUG_CXXFLAGS=-DDEBUGMX -DDEBUGMX_ALGEBRA   # DEBUGMX_ALGEBRA gives per-compute calculation output (be careful with FIML)
# DEBUG_CXXFLAGS=-DDEBUGMX -DDEBUGMX_ALGEBRA -DDEBUGMX_MATRIX # turn on algebra and matrix debugging
# DEBUG_CXXFLAGS=-DDEBUGMX_ROWS                # DEBUGMX_ROWS gives per-row output for selected FIML rows
# DEBUG_CXXFLAGS=-DVERBOSEMX                   # VERBOSEMX gives minimal per-iteration details and a few other notes
# DEBUG_CXXFLAGS=-DDEBUGMX_DEVELOPER             # DEBUGMX_DEVELOPER does additional conformance checking for matrix operations
# DEBUG_CXXFLAGS=-DOMX_BOUNDS_CHECK -D_GLIBCXX_DEBUG -g3 -fno-inline -O0   # basic debugging without extra logging
# DEBUG_CXXFLAGS=-fno-omit-frame-pointer -fno-inline  # oprofile

# To collect gcov statistics (gcc only)
# DEBUG_CXXFLAGS=--coverage
# DEBUG_LDFLAGS=--coverage

PKG_CXXFLAGS=$(OPENMP_CXXFLAGS) $(COMPILER_CXXFLAGS) $(ARCH_SPECIFIC_COMPILER_FLAGS) $(DEBUG_CXXFLAGS)
PKG_LIBS=$(OPENMP_LDFLAGS) $(COMPILER_LDFLAGS) $(FLIBS) $(BLAS_LIBS) $(LAPACK_LIBS) $(NPSOL_LDFLAGS) $(ARCH_SPECIFIC_LINKER_FLAGS) $(DEBUG_LDFLAGS)

save-gcno: $(SHLIB)
	mkdir -p ../inst/debug
	-cp *.gcno ../inst/debug/
